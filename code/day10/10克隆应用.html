<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		
		<table border = "1" id="tab">
			<tr>
				<td> <input type="checkbox"/> </td>
				<td>姓名</td>
				<td>性别</td>
				<td>年龄</td>
			</tr>
		</table>
		<hr>
		姓名： <input type="text" id="uname" />
		性别： <input type="radio" id="b"  name="sex" value="男"/>男
		 <input type="radio"  name="sex" value="女"/>女
		年龄： <input type="text" id="age" />
		<input type="button" value="保存" id="btn" />
	</body>
</html>
<script src="public.js"></script>
<script type="text/javascript">
	$id("btn").onclick = function(){
	 	// 克隆第一行
	 	var oTr = $id("tab").children[0].children[0].cloneNode(true);
	 	//修改第二个td的内容
	 	oTr.children[1].innerHTML = $id("uname").value;
	 	//修改第四个td的内容
	 	oTr.children[3].innerHTML = $id("age").value;
	 	var str = "女";
	 	
	 	//判断性别是否被选中  
	 	var count = 0;
	 	var sex = document.getElementsByName("sex");
	 	for( var i = 0 ; i < sex.length ; i++ ){
	 		if( sex[i].checked ){
	 			count++;
	 		}
	 	}
	 	//如果count<1 说明没有选中性别
	 	if( count < 1 ){
	 		alert( "必选一项" );
	 		return;
	 	}
	 	//如果男所在的复选框被选中  str = 男
	 	if( $id("b").checked ){
	 		str = "男";
	 	} 	
	 	oTr.children[2].innerHTML = str;
	 	
	 	//将克隆的tr添加到表格中
	 	$id("tab").children[0].appendChild( oTr );
	}
</script>
