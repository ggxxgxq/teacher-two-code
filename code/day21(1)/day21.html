<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/305825 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="1332"/>

<div>
<span><div>1、ajax     </div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12pt;">什么是ajax ：  </span> <span style="background-color: rgb(251, 250, 248); color: rgb(255, 0, 0); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12pt;">异步</span><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12pt;">的JavaScript and xml   ， 用来为网页提供数据交互功能</span></div><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12pt;">ajax作用 ： 实现页面无刷新 （局部刷新）      </span></div><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12pt;">当向服务器端提交少量的数据时，可以通过ajax实现 提高程序执行效率   减少带宽   </span></div></div><div>2、ajax和服务器交互数据的流程</div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;"><img src="day21_files/Image.png" type="image/png" data-filename="" style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);" width="996"/></span></div></div><div><br/></div><div>3、ajax的异步  </div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12pt;">异步 ： 同时执行 </span></div><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12pt;">       非阻塞模式  后面的代码不会受前面代码的影响  </span></div><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12pt;">同步 ： 顺序执行  代码从上到下按行执行   不会跳跃任何一行</span></div><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12pt;">        阻塞模式  后面代码的执行会受到前面代码的影响</span></div></div><div><br/></div><div>4、进程和线程（扩展）</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div><font style="font-size: 12pt;">进程 ： 程序从开始到结束的过程</font></div><div><font style="font-size: 12pt;">线程 ： </font></div><div><font style="font-size: 12pt;"><span>    </span>单线程 </font></div><div><font style="font-size: 12pt;"><span>    多线程 ： 多线程属于异步执行 </span><br/></font></div></div><div><br/></div><div>5、ajax和服务器交互数据的代码实现过程</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div><span style="min-height: 15pt; font-family: 微软雅黑; color: rgb(237, 28, 36); font-size: 12pt;">1、准备一个ajax对象</span></div><div><span style="min-height: 16pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 14pt;"><span>    <span>     </span></span>if</span><span style="min-height: 16pt; font-family: consolas; color: rgb(8, 8, 8); font-size: 14pt;">(</span> <span style="min-height: 16pt; font-family: consolas; color: rgb(60, 122, 3); font-size: 14pt;">window</span><span style="min-height: 16pt; font-family: consolas; color: rgb(8, 8, 8); font-size: 14pt;">.XMLHttpRequest ){</span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: consolas; color: rgb(8, 8, 8); font-size: 14pt;">              ajax</span> <span style="min-height: 16pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 14pt;">= new</span> <span style="min-height: 16pt; font-family: consolas; color: rgb(8, 8, 8); font-size: 14pt;">XMLHttpRequest();</span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: consolas; color: rgb(8, 8, 8); font-size: 14pt;">          }</span><span style="min-height: 16pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 14pt;">else</span><span style="min-height: 16pt; font-family: consolas; color: rgb(8, 8, 8); font-size: 14pt;">{</span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: consolas; color: rgb(8, 8, 8); font-size: 14pt;">              ajax</span> <span style="min-height: 16pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 14pt;">= new</span> <span style="min-height: 16pt; font-family: consolas; color: rgb(8, 8, 8); font-size: 14pt;">ActiveXObject(</span><span style="min-height: 16pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 14pt;">&quot;Microsoft.XMLHTTP&quot;</span><span style="min-height: 16pt; font-family: consolas; color: rgb(8, 8, 8); font-size: 14pt;">);</span></div><div><span style="min-height: 16pt; font-family: consolas; color: rgb(8, 8, 8); font-size: 14pt;">          }</span></div><div style="min-height: 15pt;"><span style="min-height: 15pt; font-family: 微软雅黑; color: rgb(237, 28, 36); font-size: 12pt;">2、建立和服务器的连接</span></div><div style="min-height: 15pt;"><span style="min-height: 15pt; font-family: 微软雅黑; color: rgb(237, 28, 36); font-size: 12pt;">ajax.open( 请求方式 get/post ,  url ,  是否是异步可省略  );  <br/></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt; font-family: 微软雅黑; color: rgb(237, 28, 36); font-size: 12pt;">3、提交数据</span></div><div style="min-height: 15pt;"><span style="min-height: 15pt; font-family: 微软雅黑; color: rgb(237, 28, 36); font-size: 12pt;">ajax.send() </span></div><div><span style="min-height: 15pt; font-family: 微软雅黑; color: rgb(237, 28, 36); font-size: 12pt;">4、服务器处理数据，并将结果返回到客户端</span></div><div><span style="min-height: 16pt; font-family: consolas; color: rgb(8, 8, 8); font-size: 14pt;"><span>    <span>     </span></span>ajax.</span><span style="min-height: 16pt; font-family: consolas; color: rgb(219, 120, 0); font-size: 14pt;">onreadystatechange</span> <span style="min-height: 16pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 14pt;">=</span> <span style="min-height: 16pt; font-family: consolas; color: rgb(54, 75, 192); font-size: 14pt;">function</span><span style="min-height: 16pt; font-family: consolas; color: rgb(8, 8, 8); font-size: 14pt;">(){</span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: consolas; color: rgb(8, 8, 8); font-size: 14pt;">              </span><span style="min-height: 16pt; font-family: consolas; color: rgb(149, 163, 171); font-size: 14pt;">//alert( ajax.readyState );</span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: consolas; color: rgb(1, 1, 1); font-size: 14pt;">              </span><span style="min-height: 16pt; font-family: consolas; color: rgb(149, 163, 171); font-size: 14pt;">//状态值  ：  0 1 2 3 4</span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: consolas; color: rgb(1, 1, 1); font-size: 14pt;">              </span><span style="min-height: 16pt; font-family: consolas; color: rgb(149, 163, 171); font-size: 14pt;">//状态码  ： 200</span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: consolas; color: rgb(1, 1, 1); font-size: 14pt;">              </span><span style="min-height: 16pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 14pt;">if</span><span style="min-height: 16pt; font-family: consolas; color: rgb(8, 8, 8); font-size: 14pt;">( ajax.readyState</span> <span style="min-height: 16pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 14pt;">==</span> <span style="min-height: 16pt; font-family: consolas; color: rgb(155, 28, 235); font-size: 14pt;">4</span> <span style="min-height: 16pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 14pt;">&amp;&amp;</span> <span style="min-height: 16pt; font-family: consolas; color: rgb(8, 8, 8); font-size: 14pt;">ajax.status</span> <span style="min-height: 16pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 14pt;">==</span> <span style="min-height: 16pt; font-family: consolas; color: rgb(155, 28, 235); font-size: 14pt;">200</span> <span style="min-height: 16pt; font-family: consolas; color: rgb(8, 8, 8); font-size: 14pt;">){</span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: consolas; color: rgb(8, 8, 8); font-size: 14pt;">                   alert( ajax.responseText );</span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: consolas; color: rgb(8, 8, 8); font-size: 14pt;">              }</span></div><div><span style="min-height: 16pt; font-family: consolas; color: rgb(8, 8, 8); font-size: 14pt;">          }</span></div><div><font color="#080808" face="consolas"><span style="font-size: 19px; line-height: 27px;">ajax返回的结果存在 ： ajax.responseText中</span></font></div><div><font color="#080808" face="consolas"><span style="font-size: 19px; line-height: 27px;">状态值说明：</span></font></div><div><font color="#080808" face="consolas" style="font-size: 12pt;"><span style="line-height: 27px;">    <span style="text-indent: 20pt; font-family: 宋体; color: rgb(8, 8, 8);">0</span> <span style="text-indent: 20pt; font-family: 宋体; color: rgb(8, 8, 8);">：请求未初始化（还没有调用</span><span style="text-indent: 20pt; font-family: 宋体; color: rgb(8, 8, 8);">open</span><span style="text-indent: 20pt; font-family: 宋体; color: rgb(8, 8, 8);">）</span></span></font></div><div style="text-align: left; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="font-family: 宋体; color: rgb(8, 8, 8);">     1</span> <span style="font-family: 宋体; color: rgb(8, 8, 8);">：请求已经建立，但是还没有发送（还没有调用</span><span style="font-family: 宋体; color: rgb(8, 8, 8);">send()</span><span style="font-family: 宋体; color: rgb(8, 8, 8);">）</span></font></div><div style="text-align: left; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="font-family: 宋体; color: rgb(8, 8, 8);">     2 :</span> <span style="font-family: 宋体; color: rgb(8, 8, 8);">请求已发送，正在处理中</span><span style="font-family: 宋体; color: rgb(8, 8, 8);"> </span><span style="font-family: 宋体; color: rgb(8, 8, 8);"> </span></font></div><div style="text-align: left; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="font-family: 宋体; color: rgb(8, 8, 8);">     3 :</span> <span style="font-family: 宋体; color: rgb(8, 8, 8);">请求在处理中，通常响应中已有部分数据可以用了，但是服务器还没有完成响应的生成</span></font></div><div><font style="font-size: 12pt;"><span style="font-family: 宋体; color: rgb(8, 8, 8);">   </span> <span style="font-family: 宋体; color: red;"> 4</span> <span style="font-family: 宋体; color: rgb(8, 8, 8);">：响应已完成 您可以获取并使用服务器的响应了</span></font></div><div><span style="font-family: 宋体; color: rgb(8, 8, 8);"><font style="font-size: 12pt;">状态码说明 ： </font></span></div><div><span style="font-family: 宋体; color: rgb(8, 8, 8);"><font style="font-size: 12pt;"><span>    200  交易成功</span><br/></font></span></div><div><span style="font-family: 宋体;"><font color="#000000" style="font-size: 12pt;">    404  <span style="font-family: 宋体;">没有发现文件、查询或</span><span style="font-family: 宋体;">URl</span><br/></font></span></div><div><span style="font-family: 宋体;"><font color="#000000" style="font-size: 12pt;"><span>    <span style="font-family: 宋体;">500——</span><span style="font-family: 宋体;">服务器产生内部错误</span>  </span><br/></font></span></div><div><font color="#000000" style="font-size: 12pt;"><span style="font-family: 宋体;"><span>   </span> 400——</span><span style="font-family: 宋体;">错误请求，如语法错误</span></font></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 