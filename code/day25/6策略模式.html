<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<style type="text/css">
		#box{
			width:100px;
			height:100px;
			position: absolute;
			top:100px;
			left:200px;
			background: skyblue;
		}
	</style>
	<body>
		<div id="box"></div>
	</body>
</html>
<script>
	window.onload = function(){
		var md = new MoveDiv();
		md.addListener({ "type" : "mouse" });
	}
	function MoveDiv(){
		this.div = document.getElementById("box");
		//通过addListener方法监听div的移动   mouse--鼠标操作   key--- 键盘操作
		this.addListener = function(obj){
			switch( obj.type ){
				case "key" : {
					document.onkeydown  = function(e){
						var e = e || event;
						var code = e.keyCode;
						switch( code ){
							case 39 : 
								this.div.style.left = this.div.offsetLeft + 3 + "px";
								break;
						}
					}.bind(this)
					break;
				}
				case "mouse" :{
					document.onmousemove = function(e){
						var e = e || event;
						this.div.style.left = e.pageX + "px";
						this.div.style.top = e.pageY + "px";
					}.bind(this)
					break;
				}
			}
		}
	}
</script>
